\usepackage[english]{babel}
\usepackage{amsfonts}
\usepackage{amsmath}
%\usepackage{amsthm}
\usepackage{mathtools}
\usepackage{libertinus}
\usepackage{algpseudocodex}
\usepackage{algorithm}
\usepackage{csquotes}
\usepackage{hyperref}
\usepackage{listings}
\usepackage{xcolor}
\usepackage{float}
\usepackage[capitalize,noabbrev]{cleveref}
\usepackage{tikz-3dplot}
\usepackage{multirow}

% It seems that libertinus already loads the inconsolata font, so adding the package for that results in a conflict. Specifying the correct font family is enough.\usepackage{natbib}

\renewcommand{\ttdefault}{zi4}

\DeclareMathOperator*{\argmax}{arg\,max}
\DeclareMathOperator*{\argmin}{arg\,min}

\renewcommand{\algorithmicrequire}{\textbf{Input:}}
\renewcommand{\algorithmicensure}{\textbf{Output:}}

\newcommand{\True}{\textsc{true}}
\newcommand{\False}{\textsc{false}}
\newcommand{\EValid}{\textsc{valid}}
\newcommand{\EInvalid}{\textsc{invalid}}
\newcommand{\EUncertain}{\textsc{uncertain}}

\newcommand{\reals}{\mathbb{R}}
\newcommand{\ints}{\mathbb{Z}}
\newcommand{\nats}{\mathbb{N}}
\newcommand{\floor}[1]{\lfloor#1\rfloor}
\newcommand{\ceil}[1]{\lceil#1\rceil}

\newcommand{\intervals}{\mathbb{I}}
\newcommand{\support}{\operatorname{supp}}
\newcommand{\timedep}[1]{\overline{#1}}
\newcommand{\intlo}[1]{\underline{#1}}
\newcommand{\inthi}[1]{\overline{#1}}
\newcommand{\inclusion}[1]{\Box #1}

\newcommand{\arcsinh}{\operatorname{arcsinh}}
\newcommand{\arccosh}{\operatorname{arccosh}}
\newcommand{\arctanh}{\operatorname{arctanh}}
\newcommand{\arctantwo}{\operatorname{arctan2}}
\newcommand{\erf}{\operatorname{erf}}
\newcommand{\erfc}{\operatorname{erfc}}

\newcommand{\solve}{\textsc{Solve}}
\newcommand{\minimize}{\textsc{Minimize}}
%\newcommand{\keyword}[1]{\texttt{#1}}

\newtheorem{theorem}{Theorem}
\newtheorem{lemma}{Lemma}
\newtheorem{definition}{Definition}

%------------------------------------------------------------------------ % Alter some LaTeX defaults for better treatment of figures: 
% See p.105 of "TeX Unbound" for suggested values. 
% See pp. 199-200 of Lamport's "LaTeX" book for details. % General parameters, for ALL pages:
\renewcommand{\topfraction}{0.9} % max fraction of floats at top 
\renewcommand{\bottomfraction}{0.8} % max fraction of floats at bottom 
% Parameters for TEXT pages (not float pages): 
\setcounter{topnumber}{4} 
\setcounter{bottomnumber}{4} 
\setcounter{totalnumber}{8} % 2 may work better 
\setcounter{dbltopnumber}{4} % for 2-column pages 
\renewcommand{\dbltopfraction}{0.95} % fit big float above 2-col. text 
\renewcommand{\textfraction}{0.07} % allow minimal text w. figs % Parameters for FLOAT pages (not text pages): 
\renewcommand{\floatpagefraction}{0.7} % require fuller float pages % N.B.: floatpagefraction MUST be less than topfraction !! 
\renewcommand{\dblfloatpagefraction}{0.7} % require fuller float pages %------------------------------------------------------------------------

% CONFIGURATION OF listings
\definecolor{codegreen}{rgb}{0,0.6,0}
\definecolor{codegray}{rgb}{0.5,0.5,0.5}
\definecolor{codepurple}{rgb}{0.58,0,0.82}
\definecolor{backcolour}{rgb}{0.95,0.95,0.92}

\newcommand{\FS}[1]{\textcolor{teal}{\textbf{FS}: #1}}
%\newcommand{\ZH}[1]{\textcolor{blue}{\textbf{ZH}: #1}}
\newcommand{\MA}[1]{\textcolor{orange}{\textbf{MA}: #1}}
%\newcommand{\DZ}[1]{\textcolor{green}{\textbf{DZ}: #1}}
\newcommand{\EP}[1]{\textcolor{purple}{\textbf{EP}: #1}}
%\newcommand{\DP}[1]{\textcolor{red}{\textbf{DP}: #1}}

\lstdefinestyle{smallcode}{
    backgroundcolor=\color{backcolour}, 
    commentstyle=\color{codegreen},
    keywordstyle=\color{magenta},
    keywordstyle=[3]\color{red},
    numberstyle=\tiny\color{codegray},
    stringstyle=\color{codepurple},
    basicstyle=\ttfamily\tiny,
    breakatwhitespace=false,
    breaklines=true,
    captionpos=b,
    numbers=left,
    numbersep=5pt,
    tabsize=2,
}

\lstdefinestyle{largecode}{
    style=smallcode,
    basicstyle=\ttfamily\scriptsize,
    numbers=none,
}

\lstdefinelanguage{miso}{
    language=Python, % inherit Python syntax
    deletekeywords=[2]{sum},
    morekeywords={with, as, assert},
    morekeywords=[3]{variables, arguments, poly_space, geo_map, bases, collapse, expand, subdiv_strategy, generate, Context, vector, basis, jacobian, det, sum, prod},
}


\lstset{style=smallcode}
% END listings
